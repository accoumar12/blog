---
title: Kanata, the best way to customize your keyboard layout
date: 2025-08-17
description: 
tags:
  - productivity
  - tool
---

> **TL;DR:**
- Nerds among you will know [QMK](https://docs.qmk.fm/). QMK allows the user to customize the functionality of their keyboard to their heart's content. Kanata aims to provide such features but for any keyboard, not just fancy mechanical ones.
- My config allows to never have to move his hand from the home row. This dramatically increases the comfort when using the keyboard.


[Kanata](https://github.com/jtroo/kanata) is an incredible tool that allows you to customize your keyboard layout, making it more efficient and comfortable to use. It is inspired by [QMK](https://docs.qmk.fm/), a popular firmware for mechanical keyboards, but extends its capabilities to any keyboard. I will share my personal configuration and how it has improved my typing experience. 

[The configuration guide](https://github.com/jtroo/kanata/blob/main/docs/config.adoc), whilst comprehensive, can be a bit overwhelming at first. I highly recommend [this getting started](https://shom.dev/start/using-kanata-to-remap-any-keyboard/) that provides a more beginner-friendly introduction to Kanata.

## Main objectives ðŸŽ¯

- A common remap for vim users is to remap caps lock to escape. 
- Reaching keys such as 'Ctrl' or 'Alt' is really uncomfortable. [Home row mods](https://precondition.github.io/home-row-mods) allow you to use these modifier keys without moving your fingers from the home row. So I wanted this functionality in my layout.
- Arrow keys are often really interesting when using some tools. For example, when vim is not possible (like when editing a google doc or so), left and right arrows are really useful to navigate the text. So I wanted to have them available without moving my hands.

## Caps lock remapping

Here are snippets of my kanata configuration file. The whole configuration file can be found [here](https://github.com/accoumar12/dotfiles/blob/main/.config/kanata/kanata.kbd).
```
;; Define global variables.
(defvar
  tap-time 150
  hold-time 150
)

;; The caps lock key is remapped to escape when tapped and, as we'll see after, to a switch of layout when pressed.
esc (tap-hold $tap-time $hold-time esc (layer-toggle nav))
```

Now, when I press the caps lock key, it acts as an escape key.

## Home row mods

```
;; Home row mods: when the key is tapped, it sends the letter, when held, it sends a modifier.
a (tap-hold $tap-time $hold-time a lmet)
s (tap-hold $tap-time $hold-time s lalt)
d (tap-hold $tap-time $hold-time d lsft)
f (tap-hold $tap-time $hold-time f lctl)
j (tap-hold $tap-time $hold-time j rctl)
k (tap-hold $tap-time $hold-time k rsft)
l (tap-hold $tap-time $hold-time l ralt)
; (tap-hold $tap-time $hold-time ; rmet)
```

Now, when I press `a`, it types `a`. But when I hold it, it acts as the `left meta` key. The same applies for the other keys.

## Navigation layer

```
;; Util layer to be able to use vim-like access to arrows.
(deflayer nav
  _ _ _ _ _ left down up right _
)
```

When I hold the caps lock key, I switch to the `nav` layer. In this layer, I can use `h`, `j`, `k`, and `l` to navigate left, down, up, and right respectively.

## Conclusion

Kanata is a powerful tool that can significantly enhance your typing experience. By customizing your keyboard layout, you can improve your efficiency and comfort. 

My configuration allows me to keep my hands on the home row while still having access to essential keys like escape, control, alt, and arrow keys. My full configuration can be found [here](https://github.com/accoumar12/dotfiles/blob/main/.config/kanata/kanata.kbd). 

I encourage you to explore Kanata and create a layout that suits your needs! 